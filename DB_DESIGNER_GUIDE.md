# Инструкция по работе с ER-диаграммой

## Файлы для работы с диаграммой

В проекте созданы следующие файлы:

1. **`database_schema.sql`** - SQL-скрипт создания базы данных
2. **`database_diagram.xml`** - ER-диаграмма в формате XML для онлайн редакторов
3. **`ER_DIAGRAM.md`** - Описание схемы в Mermaid формате + документация

## Вариант 1: DBDesigner.net (Онлайн, РЕКОМЕНДУЕТСЯ)

### Шаг 1: Откройте редактор
Перейдите на: **https://www.dbdesigner.net/**

### Шаг 2: Импорт схемы
1. Нажмите **"Import"** в верхнем меню
2. Выберите **"From SQL"**
3. Вставьте содержимое файла `database_schema.sql`
4. Нажмите **"Import"**

### Шаг 3: Редактирование
- Перетаскивайте таблицы для лучшего отображения
- Автоматически создадутся связи (Foreign Keys)
- Можно добавлять/редактировать поля

### Шаг 4: Экспорт
- **Export as Image** (PNG/SVG)
- **Export as SQL**
- **Export as JSON/XML**

## Вариант 2: WWW SQL Designer (Онлайн)

### Шаг 1: Откройте редактор
Перейдите на: **https://ondras.zarovi.cz/sql/demo/**

### Шаг 2: Импорт XML
1. Нажмите **"Save/Load"** → **"Load from XML"**
2. Вставьте содержимое файла `database_diagram.xml`
3. Нажмите **"Load"**

### Шаг 3: Работа с диаграммой
- Таблицы и связи автоматически отобразятся
- Редактируйте прямо в браузере
- Экспорт в SQL, XML, PNG

## Вариант 3: DBeaver (Локально)

### Шаг 1: Установка
Скачайте и установите DBeaver: https://dbeaver.io/download/

### Шаг 2: Подключение к базе
1. Создайте подключение к вашей PostgreSQL базе
2. Database → meetup_db

### Шаг 3: ER-диаграмма
1. Правый клик на базе → **"View Diagram"** или **ER Diagram**
2. DBeaver автоматически построит диаграмму на основе текущей схемы
3. Экспорт: **File → Export → Image (PNG)**

## Вариант 4: pgAdmin (Локально)

### Шаг 1: Откройте pgAdmin
Подключитесь к вашей PostgreSQL базе

### Шаг 2: ERD Tool
1. Правый клик на базе → **Tools → ERD Tool**
2. Выберите таблицы: users, events, events_participants
3. Нажмите **"Generate"**

### Шаг 3: Экспорт
- **File → Save As** → Image (PNG/SVG)

## Вариант 5: Visual Studio Code с расширениями

### Рекомендуемые расширения:
1. **Markdown Preview Mermaid Support** - для просмотра Mermaid диаграмм
2. **ERD Editor** - для редактирования ER-диаграмм

### Использование:
1. Откройте файл `ER_DIAGRAM.md`
2. Нажмите **Ctrl+Shift+V** для предварительного просмотра
3. Mermaid диаграмма отобразится визуально

## Вариант 6: DrawSQL (Онлайн, Современный UI)

### Шаг 1: Откройте редактор
Перейдите на: **https://drawsql.app/**

### Шаг 2: Создание диаграммы
1. Зарегистрируйтесь (бесплатно)
2. **"New Diagram"** → **"PostgreSQL"**
3. Импортируйте SQL из файла `database_schema.sql`

### Преимущества DrawSQL:
- ✨ Красивый современный интерфейс
- 🎨 Автоматическая раскраска таблиц
- 📤 Экспорт в PNG, PDF, SQL
- 🔗 Возможность делиться ссылкой

## Вариант 7: Lucidchart (Онлайн, Профессиональный)

### Шаг 1: Регистрация
Перейдите на: **https://www.lucidchart.com/**

### Шаг 2: Создание диаграммы
1. **New → ERD (Entity Relationship Diagram)**
2. Импортируйте SQL или создавайте вручную
3. Drag-and-drop интерфейс

### Преимущества:
- 🎨 Профессиональный дизайн
- 👥 Совместная работа
- 📊 Много шаблонов

## Быстрый способ - Mermaid Live Editor

### Самый быстрый вариант:
1. Откройте: **https://mermaid.live/**
2. Скопируйте Mermaid-код из `ER_DIAGRAM.md` (блок между ```mermaid```)
3. Диаграмма отобразится автоматически
4. **Actions → Export SVG/PNG**

## Создание диаграммы из существующей базы

Если база уже создана:

```bash
# Экспорт схемы PostgreSQL
pg_dump -U postgres -d meetup_db --schema-only > schema_export.sql

# Затем импортируйте schema_export.sql в любой из редакторов выше
```

## Рекомендации

### Для быстрого просмотра:
✅ **Mermaid Live Editor** или **ER_DIAGRAM.md** в VS Code

### Для редактирования:
✅ **DBDesigner.net** - простой и бесплатный  
✅ **DrawSQL** - красивый и современный

### Для работы с реальной базой:
✅ **DBeaver** - мощный инструмент с автогенерацией  
✅ **pgAdmin** - официальный инструмент PostgreSQL

## Экспорт диаграммы

Все редакторы поддерживают экспорт в:
- 🖼️ **PNG** - для документации
- 📄 **SVG** - векторный формат (масштабируется)
- 💾 **PDF** - для печати
- 📝 **SQL** - для создания базы

## Визуальное представление связей

```
┌─────────────┐
│   users     │
│             │
│ • id (PK)   │
│ • email     │
│ • name      │
│ • password  │
└──────┬──────┘
       │
       │ organizes (1:N)
       │
       ↓
┌─────────────┐         ┌──────────────────┐
│   events    │         │ events_participants│
│             │         │                   │
│ • id (PK)   │←────────│ • event_id (FK)  │
│ • title     │  N:M    │ • user_id (FK)   │
│ • organizer_│         └────────┬─────────┘
└─────────────┘                  │
                                 │
                                 ↓
                         ┌─────────────┐
                         │   users     │
                         │             │
                         │ participates│
                         └─────────────┘
```

## Готово! 🎉

Теперь у вас есть полный набор файлов для работы с ER-диаграммой вашей базы данных в любом редакторе!
